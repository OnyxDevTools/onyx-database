{
  "tables": [
    {
      "name": "User",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "username",
          "type": "String",
          "maxSize": 64,
          "isNullable": false
        },
        {
          "name": "email",
          "type": "String",
          "maxSize": 255,
          "isNullable": false
        },
        {
          "name": "isActive",
          "type": "Boolean",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "lastLoginAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "updatedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "deletedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        }
      ],
      "indexes": [
        {
          "name": "username"
        },
        {
          "name": "email"
        },
        {
          "name": "isActive"
        }
      ],
      "resolvers": [
        {
          "name": "roles",
          "resolver": "db.from(\"UserRole\")\n .where(eq(\"userId\", this.id))\n .list()"
        },
        {
          "name": "profile",
          "resolver": "db.from(\"UserProfile\")\n .where(eq(\"userId\", this.id))\n .firstOrNull()"
        }
      ],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    },
    {
      "name": "UserProfile",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "userId",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "firstName",
          "type": "String",
          "maxSize": 100,
          "isNullable": false
        },
        {
          "name": "lastName",
          "type": "String",
          "maxSize": 100,
          "isNullable": false
        },
        {
          "name": "phone",
          "type": "String",
          "maxSize": 32,
          "isNullable": true
        },
        {
          "name": "address",
          "type": "EmbeddedObject",
          "maxSize": 512,
          "isNullable": true
        },
        {
          "name": "avatarUrl",
          "type": "String",
          "maxSize": 512,
          "isNullable": true
        },
        {
          "name": "bio",
          "type": "String",
          "maxSize": 1024,
          "isNullable": true
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "updatedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        },
        {
          "name": "deletedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        },
        {
          "name": "age",
          "type": "Int",
          "maxSize": null,
          "isNullable": true
        }
      ],
      "indexes": [
        {
          "name": "userId"
        }
      ],
      "resolvers": [],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    },
    {
      "name": "Role",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "name",
          "type": "String",
          "maxSize": 64,
          "isNullable": false
        },
        {
          "name": "description",
          "type": "String",
          "maxSize": 512,
          "isNullable": true
        },
        {
          "name": "isSystem",
          "type": "Boolean",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "updatedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "deletedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        }
      ],
      "indexes": [
        {
          "name": "name"
        },
        {
          "name": "isSystem"
        }
      ],
      "resolvers": [
        {
          "name": "permissions",
          "resolver": "db.from(\"RolePermission\")\n .where(eq(\"roleId\", this.id))\n .list()"
        }
      ],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    },
    {
      "name": "Permission",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "name",
          "type": "String",
          "maxSize": 96,
          "isNullable": false
        },
        {
          "name": "description",
          "type": "String",
          "maxSize": 512,
          "isNullable": true
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "updatedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        },
        {
          "name": "deletedAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": true
        }
      ],
      "indexes": [
        {
          "name": "name"
        }
      ],
      "resolvers": [],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    },
    {
      "name": "UserRole",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "userId",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "roleId",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        }
      ],
      "indexes": [
        {
          "name": "userId"
        },
        {
          "name": "roleId"
        }
      ],
      "resolvers": [
        {
          "name": "role",
          "resolver": "db.from(\"Role\")\n .where(eq(\"id\", this.roleId))\n .list()"
        }
      ],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    },
    {
      "name": "RolePermission",
      "identifier": {
        "name": "id",
        "generator": "UUID",
        "type": "String"
      },
      "partition": "",
      "attributes": [
        {
          "name": "id",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "roleId",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "permissionId",
          "type": "String",
          "maxSize": 36,
          "isNullable": false
        },
        {
          "name": "createdAt",
          "type": "Timestamp",
          "maxSize": null,
          "isNullable": false
        }
      ],
      "indexes": [
        {
          "name": "roleId"
        },
        {
          "name": "permissionId"
        }
      ],
      "resolvers": [
        {
          "name": "permission",
          "resolver": "db.from(\"Permission\")\n .where(eq(\"id\", this.permissionId))\n .firstOrNull()"
        },
        {
          "name": "role",
          "resolver": "db.from(\"Role\")\n .where(eq(\"id\", this.roleId))\n .firstOrNull()"
        }
      ],
      "triggers": [],
      "expanded": false,
      "isEditing": false
    }
  ],
  "revisionDescription": "fixed resolvers",
  "schemaId": 0,
  "timestamp": ""
}